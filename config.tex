% Created 2022-06-07 Tue 21:14
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\author{å±±æœ¬é¾äºŒ}
\date{\today}
\title{Config}
\hypersetup{
 pdfauthor={å±±æœ¬é¾äºŒ},
 pdftitle={Config},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 27.2 (Org mode 9.6)}, 
 pdflang={English}}
\begin{document}

\maketitle
\tableofcontents


\section{ã“ã® Config ã«ã¤ã„ã¦}
\label{sec:org25204b7}
org-tangle ã¨ã„ã†æ©Ÿèƒ½ã§ã€emacs ã® config ã‚’
.org ãƒ•ã‚¡ã‚¤ãƒ«ã§æ›¸ã„ã¦ã„ã¾ã™ã€‚ã¾ã ã‚ã¾ã‚Šèª¬æ˜ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
\section{Bookmarks}
\label{sec:org5dd7b7e}
\begin{verbatim}
(map! :leader
      (:prefix ("b". "buffer")
       :desc "List bookmarks" "L" #'list-bookmarks
       :desc "Save current bookmarks to bookmark file" "w" #'bookmark-save))
\end{verbatim}

\section{key-bindings}
\label{sec:orgb14201c}
\subsection{org}
\label{sec:org0fd931e}
\begin{verbatim}

;;not classified
(map! (:leader
  (:desc "org-table" "s h" #'eshell
   :desc "zoom" "z z" #'+hydra/text-zoom/body
   :desc "org-table" "t o" #'org-table-create
   :desc "elgantt ""g n" #'elgantt-open
   :desc "find-file" "f f" #'find-file)))

;;org slide
(map! (:leader
      (:desc "tangle" "o t" #'org-babel-tangle
       :desc "org-slide-start" "o s s" #'org-tree-slide-mode
       :desc "org-slide-right" "o s l" #'org-tree-slide-move-next-tree)))

\end{verbatim}

\subsection{screen}
\label{sec:orgc15097b}
\begin{verbatim}
;;layout
(map! (:leader
       (:desc "å³ä¸‹ãŒã‚¢ã‚¸ã‚§ãƒ³ãƒ€ã€å·¦ä¸‹ãŒã‚·ã‚§ãƒ«ã§ã™ã€‚" "l 1" #'split-screen-1
        :desc "clispç”¨ã®ã§ã™" "l c l" #'split-screen-3
        :desc "contestç”¨ï¼ˆABCã®ï¼‰" "l c o" #'split-screen-4)))

;;ace-window
(setq aw-keys '(?a ?s ?d ?f ?g ?h ?j ?k ?l))
(map! :leader
      :desc "ace-window" "a c" #'ace-window)
;;smart toggle
(map! :leader
      :desc "imenu-list"
      "t l" #'imenu-list-smart-toggle)
;;visual line of numbers ã§ã¯ãªã„
\end{verbatim}
\subsection{snippet}
\label{sec:orgf1a9610}
\begin{verbatim}
(map! (:leader
      (:desc "snippets-find" "s n o" #'+snippets/find
      :desc "snippets-insert" "s n i" #'+snippets/new
      :desc "snippets-edit" "s n e" #'+snippets/edit)))
\end{verbatim}
\subsection{text-edit}
\label{sec:org7ff8cbe}
\begin{verbatim}
(map! :leader
      :desc "heml kill ring"
      "k r" #'helm-show-kill-ring)

(defun move-line-up ()
  "Move up the current line."
  (interactive)
  (transpose-lines 1)
  (forward-line -2)
  (indent-according-to-mode))

(defun move-line-down ()
  "Move down the current line."
  (interactive)
  (forward-line 1)
  (transpose-lines 1)
  (forward-line -1)
  (indent-according-to-mode))

(map! (:leader
      (:desc "line-swap-down" "l d"#'move-line-down
       :desc "line-swap-down" "l u"#'move-line-up)))
\end{verbatim}
\subsection{operating somethign}
\label{sec:org8a90b4e}
\begin{verbatim}
(map! :leader
      :desc "man page"
      "d c"#'man)
\end{verbatim}

\subsection{lisp}
\label{sec:orgc92d6fb}
\begin{verbatim}
(map! :leader :desc "run sly" "a a" #'sly)

(map! (:leader
       (:desc "sexp-forward" "s x f" #'sp-forward-sexp
        :desc "sexp-backward" "s x b" #'sp-backward-sexp
        :desc "sexp-kill" "s x d" #'sp-kill-sexp
        :desc "sexp-kill" "s x s" #'+default/search-other-project)))
\end{verbatim}

\subsection{godot}
\label{sec:orge3d9137}
\begin{verbatim}
(map! :leader
      :desc  "hydra gd"
      "g d"#'gdscript-hydra-show)

\end{verbatim}

\subsection{latex}
\label{sec:orgf4676ae}
\begin{verbatim}
(map! :leader
      :desc "latex-preview"
      "l p"#'org-latex-preview)
(setq org-export-latex-coding-system 'shift_jis)
(setq org-export-latex-date-format "%Y-%m-%d")
(setq org-export-latex-classes nil)
(add-to-list 'org-export-latex-classes
  '("jsarticle"
    "\\documentclass[a4j]{jsarticle}"
    ("\\section{%s}" . "\\section*{%s}")
    ("\\subsection{%s}" . "\\subsection*{%s}")
    ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
    ("\\paragraph{%s}" . "\\paragraph*{%s}")
    ("\\subparagraph{%s}" . "\\subparagraph*{%s}")
))
(setq org-export-latex-packages-alist
  '(("AUTO" "inputenc"  t)
    ("T1"   "fontenc"   t)
    ))

\end{verbatim}
\section{dashboard}
\label{sec:orgd852e35}
\begin{verbatim}
(custom-set-faces!
  '(doom-dashboard-banner :foreground "red"  :weight bold)
  '(doom-dashboard-footer :inherit font-lock-constant-face)
  '(doom-dashboard-footer-icon :inherit all-the-icons-red)
  '(doom-dashboard-loaded :inherit font-lock-warning-face)
  '(doom-dashboard-menu-desc :inherit font-lock-string-face)
  '(doom-dashboard-menu-title :inherit font-lock-function-name-face))
\end{verbatim}
\section{Theme}
\label{sec:org14465a9}
\begin{verbatim}

(modus-themes-load-vivendi)
\end{verbatim}
\section{Langs and Dev}
\label{sec:orgd8b0e1c}
\subsection{glsl-mode}
\label{sec:org9bf7bf0}
\begin{verbatim}
(use-package! glsl-mode)
(add-to-list 'auto-mode-alist '("\\.gdshader\\'" . glsl-mode))
\end{verbatim}
\subsection{plantuml}
\label{sec:org209d5b9}
\begin{verbatim}
(setq org-plantuml-jar-path "~/.emacs.d/lib/plantuml.jar")
\end{verbatim}
\subsection{LSP}
\label{sec:org62d3128}
\subsubsection{gdscript-mode}
\label{sec:orga30f463}
\begin{verbatim}
(setq gdscript-docs-local-path "/Users/yamamotoryuuji/Documents/docs/")
(setq gdscript-godot-executable "/Users/yamamotoryuuji/Desktop/Godot.app/Contents/MacOS/Godot")

 (defun lsp--gdscript-ignore-errors (original-function &rest args)
  "Ignore the error message resulting from Godot not replying to the `JSONRPC' request."
  (if (string-equal major-mode "gdscript-mode")
      (let ((json-data (nth 0 args)))
        (if (and (string= (gethash "jsonrpc" json-data "") "2.0")
                 (not (gethash "id" json-data nil))
                 (not (gethash "method" json-data nil)))
            nil ; (message "Method not found")
          (apply original-function args)))
    (apply original-function args)))
;; Runs the function `lsp--gdscript-ignore-errors` around `lsp--get-message-type` to suppress unknown notification errors.
(advice-add #'lsp--get-message-type :around #'lsp--gdscript-ignore-errors)
\end{verbatim}
\subsection{shell}
\label{sec:org72c1d32}
\begin{verbatim}
(when (memq window-system '(mac ns x))
  (exec-path-from-shell-initialize))
\end{verbatim}
\section{LISP}
\label{sec:orge4084eb}
\subsection{RACKET}
\label{sec:org75e0375}
\begin{verbatim}
(add-hook 'racket-mode-hook
          (lambda ()
            (define-key racket-mode-map (kbd "<f5>") 'racket-run)))
(setq racket-program "/Applications/Racket\sv8.5/bin/racket")


\end{verbatim}
\subsection{CLISP}
\label{sec:orgcfadbcf}
\begin{enumerate}
\item SLY
\label{sec:org4ca0487}
\begin{verbatim}
(use-package sly)
\end{verbatim}
\end{enumerate}

\subsubsection{COCONUT}
\label{sec:org6e9a033}
\begin{verbatim}
(use-package! coconut-mode)
(add-to-list 'auto-mode-alist '("\\.coco\\'" . coconut-mode))
\end{verbatim}
\subsubsection{elisp}
\label{sec:org580bf1b}
\begin{verbatim}
(use-package! request)
\end{verbatim}

\section{Org}
\label{sec:orga3dd317}

\subsection{habit}
\label{sec:org3698b82}
\begin{verbatim}
(require 'org-habit)
\end{verbatim}
\subsection{Directory}
\label{sec:org9ecbe1a}
\begin{verbatim}
(when (string-equal system-type "darwin")

(setq org-directory "~/org")

)
(when (string-equal system-type "gnu/linux")
(setq org-directory "~/org")
)

\end{verbatim}
\subsection{Journal}
\label{sec:orgaf26527}
\begin{verbatim}
(when (string-equal system-type "darwin")

(setq +org-capture-journal-file "~/org" )

)
(when (string-equal system-type "gnu/linux")
(setq org-journal-dir "~/MEGAsync/journal" )
)


(setq org-journal-date-format "%A, %d %B %Y")
(require 'org-journal)

\end{verbatim}
\subsection{Agenda}
\label{sec:org529cd75}

\begin{verbatim}
(setq org-agenda-skip-scheduled-if-done t
      org-agenda-skip-deadline-if-done t
      org-agenda-include-deadlines t
      org-agenda-block-separator #x2501
      org-agenda-compact-blocks t
      org-agenda-start-with-log-mode t)
(with-eval-after-load 'org-journal
(when (string-equal system-type "darwin")

  (setq org-agenda-files '("~/org/todo.org"
                           "~/org/elisptodo.org"
                           )))

)
(when (string-equal system-type "gnu/linux")

  (setq org-agenda-files '("~/org")))

(setq org-agenda-clockreport-parameter-plist
      (quote (:link t :maxlevel 5 :fileskip0 t :compact t :narrow 80)))
(setq org-agenda-deadline-faces
      '((1.0001 . org-warning)              ; due yesterday or before
        (0.0    . org-upcoming-deadline)))  ; due today or later

\end{verbatim}


\begin{enumerate}
\item agenda styles
\label{sec:org5e34d5a}
\begin{verbatim}
(defun air-org-skip-subtree-if-habit ()
  "Skip an agenda entry if it has a STYLE property equal to \"habit\"."
  (let ((subtree-end (save-excursion (org-end-of-subtree t))))
    (if (string= (org-entry-get nil "STYLE") "habit")
        subtree-end
      nil)))

(defun air-org-skip-subtree-if-priority (priority)
  "Skip an agenda subtree if it has a priority of PRIORITY.

PRIORITY may be one of the characters ?A, ?B, or ?C."
  (let ((subtree-end (save-excursion (org-end-of-subtree t)))
        (pri-value (* 1000 (- org-lowest-priority priority)))
        (pri-current (org-get-priority (thing-at-point 'line t))))
    (if (= pri-value pri-current)
        subtree-end
      nil)))

(setq org-agenda-custom-commands
      '(("n" "ğŸ•ğŸ•ğŸ©ğŸ•ğŸ•"
         ((tags "PRIORITY=\"A\""
                ((org-agenda-skip-function '(org-agenda-skip-entry-if 'todo 'done))
                 (org-agenda-overriding-header "High-priority unfinished tasks:")))
          (agenda "" ((org-agenda-span 4)))
          (alltodo ""
                   ((org-agenda-skip-function
                     '(or (air-org-skip-subtree-if-priority ?A)
                          (org-agenda-skip-if nil '(scheduled deadline))))))))
        ("w" "ğŸ©ğŸ©ğŸ•ğŸ©ğŸ©"
         ((alltodo ""
                   (org-habit-show-habits t))))))

\end{verbatim}
\end{enumerate}
\subsection{Pomodoro}
\label{sec:org4c85195}
\begin{verbatim}
(use-package org-pomodoro
    :after org-agenda
    :custom
    (org-pomodoro-ask-upon-killing t)
    (org-pomodoro-format "î€%s")
    (org-pomodoro-short-break-format "ïƒ´%s")
    (org-pomodoro-long-break-format  "î€†%s")
    :custom-face
    (org-pomodoro-mode-line ((t (:foreground "#ff5555"))))
    (org-pomodoro-mode-line-break   ((t (:foreground "#50fa7b"))))
    :hook
    (org-pomodoro-started . (lambda () (notifications-notify
                                               :title "org-pomodoro"
                           :body "Let's focus for 25 minutes!"
                           :app-icon "~/.emacs.d/img/001-food-and-restaurant.png")))
    (org-pomodoro-finished . (lambda () (notifications-notify
                                               :title "org-pomodoro"
                           :body "Well done! Take a break."
                           :app-icon "~/.emacs.d/img/004-beer.png")))
    :config
    :bind (:map org-agenda-mode-map
                ("p" . org-pomodoro)))

\end{verbatim}


\subsubsection{Startup settings}
\label{sec:org1d8bccd}
\begin{verbatim}
;;      :custom (org-bullets-bullet-list '())
(setq org-startup-folded t)

(setq
    org-superstar-headline-bullets-list '("â™" "â˜¾" "â˜¿" "â™€" "â˜‰" "â™‚" "â™ƒ" "â™„")
)
\end{verbatim}
\subsubsection{Babel}
\label{sec:orgaeb8a4c}
\begin{enumerate}
\item Template
\label{sec:org27adde5}
\begin{verbatim}
(require 'org-tempo)
(add-to-list 'org-structure-template-alist '("el" . "src emacs-lisp"))
(add-to-list 'org-structure-template-alist '("cl" . "src lisp"))
(add-to-list 'org-structure-template-alist '("aw" . "src awk"))
(add-to-list 'org-structure-template-alist '("ba" . "src bash"))
(add-to-list 'org-structure-template-alist '("py" . "src python"))
(add-to-list 'org-structure-template-alist '("hs" . "src haskell"))
(add-to-list 'org-structure-template-alist '("pl" . "src plantuml"))
(add-to-list 'org-structure-template-alist '("js" . "src javascript"))
\end{verbatim}

\item tangle
\label{sec:org36f2b55}
\begin{enumerate}
\item {\bfseries\sffamily TODO} Automatically tangle our Emacs.org config file when we save it
\label{sec:org2e49d61}
\begin{verbatim}


(defun efs/org-babel-tangle-config ()
  (when (string-equal (file-name-directory (buffer-file-name))
                      (expand-file-name "home/ryu/.doom.d/config.org"))
    ;; Dynamic scoping to the rescue
    (let ((org-confirm-babel-evaluate nil))
      (org-babel-tangle))))

(add-hook 'org-mode-hook (lambda () (add-hook 'after-save-hook #'efs/org-babel-tangle-config)))


(org-babel-do-load-languages
 'org-babel-load-languages
 '(lisp . t)
 '(awk . t)
 '(fish . t)
 '(python . t)
 '(haskell. t)
 '(C++ . t)
 '(dot . t)
 '(javascript . t)
 '(ditaa . t)
 '(plantuml. t)
 )

\end{verbatim}
\end{enumerate}
\end{enumerate}
\subsection{org-roam}
\label{sec:org405d58c}
\subsubsection{org-roam-capture-template}
\label{sec:org5a94213}
\begin{verbatim}
(after! org-roam
(setq org-roam-capture-templates
      '(("d" "default" plain
         "%?"
         :if-new (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+title: ${title}\n")
         :unnarrowed t)

        ("l" "programming language" plain
         "* Characteristics\n\n- Family: %?\n- Inspired by: \n\n* Reference:\n\n"
         :if-new (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+title: ${title}\n")
         :unnarrowed t)

        ("b" "book notes" plain
         "\n* Source\n\nAuthor: %^{Author}\nTitle: ${title}\nYear: %^{Year}\n\n* Summary\n\n%?"
         :if-new (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+title: ${title}\n")
         :unnarrowed t)
        ("p" "project" plain "* Goals\n\n%?\n\n* Tasks\n\n** TODO Add initial tasks\n\n* Dates\n\n"
         :if-new (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+title: ${title}\n#+filetags: Project")
         :unnarrowed t)
        )))


\end{verbatim}
\subsubsection{dir-option}
\label{sec:org87cb316}
\begin{verbatim}
(defun inuru ()
  (interactive)
  (let ((select '((me . roam) (share . loggg))))
    (ivy-read "ğŸ•ğŸ•ã©ã®wikiã«ã™ã‚‹ã‹ğŸ•ğŸ•" select
    :require-match t
    :action (lambda (choice)
              (setq org-roam-directory (concat "/Users/yamamotoryuuji/Dropbox/"
                                               (symbol-name (cdr choice)))))))
  (org-roam-db-sync))
\end{verbatim}

\subsubsection{org-roam-ui}
\label{sec:orgc6404dc}

\begin{verbatim}
(setq org-roam-directory "/Users/yamamotoryuuji/Dropbox/roam")
(use-package org-roam-bibtex
  :after org-roam
  :config
  (require 'org-ref))

(use-package! websocket
    :after org-roam)

(use-package! org-roam-ui
    :after org ;; or :after org
         normally we'd recommend hooking orui after org-roam, but since org-roam does not have
         a hookable mode anymore, you're advised to pick something yourself
         if you don't care about startup time, use
    :hook (after-init . org-roam-ui-mode)
    :config
    (setq org-roam-ui-sync-theme t
         org-roam-ui-follow t
          org-roam-ui-update-on-save t
         org-roam-ui-open-on-start t))


\end{verbatim}
\subsubsection{org-roam-dialies}
\label{sec:org45030ed}
\begin{verbatim}
(setq org-roam-dailies-directory "/Users/yamamotoryuuji/Dropbox/roam/journal")
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; (setq org-roam-dialies-capture-template                                    ;;
;;       '(("d" "default" entry "* %<%I:%H%p>: %?"                            ;;
;;         :if-new (file+head "%S<%Y-%m-%d>.org" "#+title: %<%Y-%m%d>\n?")))) ;;
;;;;;;;;;;;f;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(setq org-roam-dailies-capture-templates
      '(("d" "Journal" entry "* %<%H: %M>\n"
         :if-new (file+head+olp "%<%Y-%m-%d>.org"
  	  	        "#+title: %<%Y-%m-%d>\n#+filetags: %<:%Y:%B:>\n"
		  	        ("Journal")))
        ("b" "books" entry "* books"
         :if-new (file+head+olp "%<%Y-%m-%d>.org"
  	  	        "#+title: %<%Y-%m-%d>\n#+filetags: %<:%Y:%B:>\n"
		  	        ("Journal")))


        ("m" "Most Important Thing" entry "* TODO %? :mit:"
         :if-new (file+head+olp "%<%Y-%m-%d>.org"
			        "#+title: %<%Y-%m-%d>\n#+filetags: %<:%Y:%B:>\n"
			        ("Most Important Thing(s)")))))


\end{verbatim}
\subsection{elgantt}
\label{sec:org01849af}
\begin{verbatim}
(use-package! elgantt)

(setq elgantt-user-set-color-priority-counter 0)
(elgantt-create-display-rule draw-scheduled-to-deadline
  :parser ((elgantt-color . ((when-let ((colors (org-entry-get (point) "ELGANTT-COLOR")))
                               (s-split " " colors)))))
  :args (elgantt-scheduled elgantt-color elgantt-org-id)
  :body ((when elgantt-scheduled
           (let ((point1 (point))
                 (point2 (save-excursion
                           (elgantt--goto-date elgantt-scheduled)
                           (point)))
                 (color1 (or (car elgantt-color)
                             "black"))
                 (color2 (or (cadr elgantt-color)
                             "red")))
             (when (/= point1 point2)
               (elgantt--draw-gradient
                color1
                color2
                (if (< point1 point2) point1 point2) ;; Since cells are not necessarily linked in
                (if (< point1 point2) point2 point1) ;; chronological order, make sure they are sorted
                nil
                `(priority ,(setq elgantt-user-set-color-priority-counter
                                  (1- elgantt-user-set-color-priority-counter))
                           ;; Decrease the priority so that earlier entries take
                           ;; precedence over later ones (note: it doesnâ€™t matter if the number is negative)
                           :elgantt-user-overlay ,elgantt-org-id)))))))

(setq elgantt-header-type 'outline
      elgantt-insert-blank-line-between-top-level-header t
      elgantt-startup-folded nil
      elgantt-show-header-depth t
      elgantt-draw-overarching-headers t)
\end{verbatim}
\subsection{reading}
\label{sec:org652a299}
\begin{verbatim}
(defconst ladicle/org-journal-dir "~/roam/journal/")
(defconst ladicle/org-journal-file-format (concat ladicle/org-journal-dir "%Y%m%d.org"))

(defvar org-code-capture--store-file "")
(defvar org-code-capture--store-header "")

;; This function is used in combination with a coding template of org-capture.
(defun org-code-capture--store-here ()
  "Register current subtree as a capture point."
  (interactive)
  (message "the header is stored")
  (setq org-code-capture--store-file (buffer-file-name))
  (setq org-code-capture--store-header (nth 4 (org-heading-components))))

;; This function is used with a capture-template for (function) type.
;; Look for headline that registered at `org-code-capture--store-header`.
;; If the matching subtree is not found, create a new Capture tree.
(defun org-code-capture--find-store-point ()
  "Find registered capture point and move the cursor to it."
  (let ((filename (if (string= "" org-code-capture--store-file)
                      (format-time-string ladicle/org-journal-file-format)
                    org-code-capture--store-file)))
    (set-buffer (org-capture-target-buffer filename)))
  (goto-char (point-min))
  (unless (derived-mode-p 'org-mode)
    (error
     "Target buffer \"%s\" for org-code-capture--find-store-file should be in Org mode"
     (current-buffer))
    (current-buffer))
  (if (re-search-forward org-code-capture--store-header nil t)
      (goto-char (point-at-bol))
    (goto-char (point-max))
    (or (bolp) (insert "\n"))
    (insert "* Capture\n")
    (beginning-of-line 0))
  (org-end-of-subtree))

;; Capture templates for code-reading
(add-to-list 'org-capture-templates
      '("u" "code-link"
         plain
         (function org-code-capture--find-store-point)
         "% {Summary}\n%(with-current-buffer (org-capture-get :original-buffer) (browse-at-remote--get-remote-url))\n# %a"
         :immediate-finish t))

(add-to-list 'org-capture-templates
        '("p" "just-code-link"
         plain
         (function org-code-capture--find-store-point)
         "%a"
         :immediate-finish t))

;;keybinding
(map! (:leader
      (:desc "counsel capture" "c p" #'counsel-org-capture
       :desc "counsel capture"
      "y c" #'org-code-capture--store-here)))

\end{verbatim}
\subsection{babel}
\label{sec:org240fe9e}
\begin{verbatim}
(add-hook 'org-mode-hook #'org-modern-mode)
\end{verbatim}


\subsection{publish}
\label{sec:orgb69bc40}
\begin{verbatim}
(setq easy-hugo-basedir "~/chiple.github.io/")
(doom! :lang
       (org +hugo))
(use-package ox-hugo
  :ensure t
  :after ox)
(setq easy-hugo-url "https://chiple.github.io")
(setq easy-hugo-sshdomain "https://chiple.github.io")
(setq easy-hugo-root "/")
(setq easy-hugo-previewtime "300")
(setq easy-hugo-postdir "content/post")
(setq org-hugo-base-dir "~/chiple.github.io/")
\end{verbatim}

\subsection{org-benrify}
\label{sec:org3ec530b}
ã“ã‚Œã¯ã€Org ã§ä½¿ã†ä¾¿åˆ©ãªæ©Ÿèƒ½ã§ã€ã‚‚ã—ã‹ã—ãŸã‚‰ã€è»Šè¼ªã®å†ç™ºæ˜ã‚’ã—ã¦ã„ã‚‹ã®ã‹ã‚‚ã—ã‚Œãªã„
Snippet ãŒãŠã„ã¦ã‚ã‚‹ã¨ã“ã‚ã€‚
\begin{verbatim}
(defun list-headings()
  (interactive)
(defun get-existing-heading-in-buffer ()
  (save-excursion
  (goto-char (point-min))
  (let ((head '()))
    (while (re-search-forward "^*" (point-max) t)
      (add-to-list 'head (list (replace-regexp-in-string "\n" "" (thing-at-point 'line nil) )(point)))
      )
    head)))

(ivy-read "headings" (get-existing-heading-in-buffer)
          :action (lambda (x) (goto-char (cadr x))))
)
(map! :leader
      :desc "heading list of current buffer"
      "l h" #'list-headings)
\end{verbatim}

\section{PREFERENCE}
\label{sec:orgdc3565e}
\begin{verbatim}
(defun my-pretty-lambda ()
  (setq prettify-symbols-alist '(("lambda" . 955))))
(add-hook 'python-mode-hook 'my-pretty-lambda)
(add-hook 'python-mode-hook 'prettify-symbols-mode)
(add-hook 'org-mode-hook 'my-pretty-lambda)
(add-hook 'org-mode-hook 'prettify-symbols-mode)
(add-hook 'lisp-mode-hook 'my-pretty-lambda)
(add-hook 'lisp-mode-hook 'prettify-symbols-mode)
(add-hook 'emacs-lisp-mode-hook 'my-pretty-lambda)
(add-hook 'emacs-lisp-mode-hook 'prettify-symbols-mode)
\end{verbatim}

\begin{verbatim}
(defun font-set-yay ()
(set-fontset-font t 'japanese-jisx0208 (font-spec :family "ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ã‚·ãƒƒã‚¯")))

(set-fontset-font t 'japanese-jisx0208 (font-spec :family "ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ã‚·ãƒƒã‚¯"))
(add-hook 'emacs-startup-hook 'font-set-yay)
\end{verbatim}
\section{screen}
\label{sec:org29f55e2}
\begin{verbatim}
(defun split-screen-1 ()
  (interactive)
  (progn
  (evil-window-split)
  (next-window-any-frame)
  (shrink-window 15)
  (evil-window-vsplit)
  (eshell)
  (next-window-any-frame)
  (org-agenda :key "n")
  (next-window-any-frame)
    ))

(defun split-screen-2 ()
  (interactive)
  (progn
  (evil-window-vsplit)
  (evil-window-split)
  (shrink-window 15)
  (evil-window-vsplit)
  (eshell)
  (next-window-any-frame)
  (org-agenda :key "n")
  (next-window-any-frame)
    ))

(defun split-screen-3 ()
  (interactive)
  (progn
  (evil-window-vsplit)
  (find-file "~/edu/clisp")
  (next-window-any-frame)
  (sly)
  (evil-window-vsplit)
  (org-roam-ref-find "clisp")
  ))

(defun split-screen-4 ()
  (interactive)
  (progn
    (let ((contest-num (read-string "What is the number of contest? :"))
          (dir-name nil))
  (evil-window-vsplit)
  (setq dir-name (concat "~/edu/python/abc" contest-num))
  (mkdir dir-name)
  (find-file (concat dir-name "/a.py"))
  (next-window-any-frame)
  (eshell)
  (next-window-any-frame)


    )))

  (use-package ace-window
   :custom-face
    (aw-leading-char-face ((t (:height 4.0 :foreground "#f1fa8c")))))
\end{verbatim}
\section{tools}
\label{sec:orgabdd0b2}
\subsection{vocacb}
\label{sec:org2a4b879}
\begin{verbatim}
(defun append-string-to-file (s filename)
  (with-temp-buffer
    (insert s)
    (insert "\n")
    (write-region (point-min) (point-max) filename t)))

(defun ankki ()
  (interactive)
  (progn
    (let ((word (read-string "ğŸ•Type in the word you don't knowğŸ•: ")))
      (append-string-to-file word "~/Documents/words.txt")
      )
    (async-shell-command "python3 ~/.doom.d/asdf.py")
    )
  )


\end{verbatim}
\subsection{{\bfseries\sffamily TODO} çŸ¢å°}
\label{sec:org761d77f}
ã‚­ãƒ¼ãƒãƒƒãƒ—ã¯ã¨ã‚Šã¾è¨­è¨ˆæ›¸
\begin{itemize}
\item â”œ ã‹ã‚‰ã®åˆ†å²ã‚’è€ƒãˆã‚‹
ä¸‹ã«ä¼¸ã°ã—ãŸã„ã®ãŒã»ã¨ã‚“ã©ã®ã¯ãšï¼Ÿï¼Ÿ
ä½œæˆã—ãŸæ™‚ç‚¹ã§ä¸Šã«è¿½åŠ ã—ã¦ãŠãï¼Ÿ
\item æŠ˜ã‚Šæ›²ã’ãŸæ™‚ã«é‡£ã‚Šåˆã„ãŒå–ã‚Œã‚‹ã‹ã©ã†ã‹ã€‚
ç¾åœ¨ã‚ã‚‹çŸ¢å°ã®ã¤ãªãŒã‚Šã‚’æ¢ç´¢ã—ã¦ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆã‚¯ãƒ©ã‚¹ã§ã‚‚ã€æ§‹é€ ä½“ã§ã‚‚ã„ã„ã‹ã‚‰ï¼‰
ã‚’ä½œæˆã—ã¦ã€ãã“ã‹ã‚‰ã€ãŠã‚‹ã€‚
\end{itemize}

\subsubsection{keymap}
\label{sec:org7a0d2f8}

\begin{center}
\begin{tabular}{llll}
\hline
 & key & func name & shape\\
\hline
create & SPC a j k & arrow down right & â””â”€>\\
 & SPC a j h & arrow down left & <â”€â”˜\\
\hline
manuplate & SPC a p v & arrow path vertically & â”˜ or â””\\
 &  &  & â”¤<â”€â”¸â”€>â”œ\\
 &  &  & \\
 & SPC a p h & arrow path horizontally & â”˜ or â””\\
\hline
\end{tabular}
\end{center}
\begin{verbatim}

(defun yajirushi-add ()
  (interactive)
  (let ((length (cl-parse-integer(read-string "put the arrow length here: " "3") :radix 10))
        (result ""))
    (cl-do ((num 1 (1+ num)))
        ((> num length))
      (if (equal num length)
          (setq result (concat result "â””â”€>"))
        (setq result (concat result "â”œâ”€>\n"))))
    (with-current-buffer
        (insert result)
      (number-to-string (line-number-at-pos)))
    ))
;;æ¨ªã«ä¼¸ã³ã‚‹ã‚„ã¤
(defun yajirushi-new-line ()
  (interactive)
  (cl-case (char-after)
    ((?â”‚)
     (forward-line -1)
     (let ((line-content (thing-at-point 'line t)))
       (insert line-content)))
    ((?â”œ)

     (forward-line 1)
     (let ((line-content (thing-at-point 'line t)))
       (insert "\n")
       (forward-line -1)
       (insert "â”‚")
       ))

    ((?â”¬)
     (let ((line-content (thing-at-point 'line t))
           (end (point)))
       (beginning-of-line)
       (let* ((start (point))
              (offset (- end start)))
         (forward-line 1)
         (insert line-content)
         (forward-line -1)
         (cl-do ((num 0 (1+ num)))
             ((> num offset))
           (cl-case (char-after)
             ((?â”œ)
              (delete-forward-char 1)
              (insert "â”‚")
              (forward-char -1)
              )
             ((?â”¬)
              (delete-forward-char 1)
              (insert "â””")
              (forward-char -1)
              )
             ((?â”€)
              (delete-forward-char 1)
              (insert " ")
              (forward-char -1)
              )
             ((?â””)
              (delete-forward-char 1)
              (insert " ")
              (forward-char -1)
              )
             )

           (forward-char 1)
           )
         )))))
;;ç¾åœ¨ä½ç½®ã®Xã‚’ä¿æŒã—ãŸã¾ã¾ä¸Šã¸ã„ãã€‚
(defun yajirushi-go-upward ()
  (let ((end (point)))
    (beginning-of-line)
    (let* ((start (point))
           (offset (- end start))
           )
      (forward-line -1)
      (goto-char (+ offset (point)))
      )
    ))
;;ã‚‚ã—ã‹ã—ãŸã‚‰ã€ã¶ã¤ã‹ã‚‹ã¨ã“ã‚ãŒãµãˆã‚‹ã‹ã‚‚ã—ã‚Œãªã„
(defun yajirushi-go-left ()
  (interactive)
  (while (not (equal (thing-at-point 'char t) "â””"))
    (forward-char -1)))

(defun yajirushi-go-right ()
  (interactive)
  (while (not (equal (thing-at-point 'char t) "â”˜"))
    (forward-char 1)))
;;å·¦ã¾ã§ã„ã£ã¦ã€ä¸Š(yajirushi-go-upward)ã¾ã§æ¢ç´¢ã—ãŸã‚‰ã€ãã®ãƒã‚¤ãƒ³ãƒˆã‚’ä¿å­˜ã™ã‚‹
;;å³ã¾ã§ã„ã£ãŸã‚‰ã€ãã®ãƒã‚¤ãƒ³ãƒˆã‚’ä¿å­˜ã™ã‚‹ã€‚
;;ä¸€ã¤ã®è¾ºã«è¤‡æ•°ã®HubãŒã‚ã£ãŸã‚‰ã€ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™ã€‚
(defun detect-box ()
  (interactive)
  (let ((start) (top-left) (bottom-right))
    (setq start (point))
  (cl-case (char-after)
    ((?â”¯)
     (yajirushi-go-left)
     (while (not (equal (thing-at-point 'char t) "â”Œ"))
       (yajirushi-go-upward))
     (setq top-left (point))
     (goto-char start)
     (yajirushi-go-right)
     (setq bottom-right (point))
     ))
  (print top-left)
  (print bottom-right)
  )
)
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; (defun adjust-box-shape () ;;
;;   (interactive))           ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;;æ–‡å­—ã®é•·ã•ã‚’èª¿ã¹ã‚‹ãƒ¼ï¼ãã®åˆ†ä¸Šã®ã‚„ã¤ã‚’ä½œã‚‹ã€‚
;;å…¥åŠ›ã—ãŸæ–‡å­—ã®ä¸¡ç«¯ã«ç¸¦ã®ç½«ç·šã‚’ã¤ã‘ã‚‹
(defun moji-tree ()
  (interactive)
  (let ((word (cl-parse-integer(read-string "put string here: " ))
        (result ""))
        (with-current-buffer
        (insert result)
      (number-to-string (line-number-at-pos)))
    )
                        ))

(defun yajirushi-rotate ()
  (interactive)
  (cl-case (char-after)
    ;;
    ((?â””)
     (delete-forward-char 1)
     (insert "â”œ"))
    ((?â”œ)
     (delete-forward-char 1)
     (insert "â”Œ"))
    ((?â”Œ)
     (delete-forward-char 1)
     (insert "â””"))
    ;;æ¨ªã‹ã‚‰
    ((?â”€)
     (delete-forward-char 1)
     (insert "â”¬")
     (forward-char -1)
     )
    ((?â”¬)
     (delete-forward-char 1)
     (insert "â”€"))
    ))

(defun yajirushi-expand ()
  (interactive)
  (cl-case (char-after)
    ((?â”€)
     (insert "â”€"))))

;;TODO;;;;;;;;;;;;;;;;;;;;;;;;;
;; (defun box-display ()     ;;
;;   (interactive)           ;;
;;)                          ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;;key-bind
(map! (:leader
      (:desc "å€‹æ•°ã‚’æŒ‡å®šã—ã¦çŸ¢å°ã‚’ã¤ãã‚‹" "a j l" #'yajirushi-add
      :desc "æ–‡å­—ã®ç¨®é¡ã«å¿œã˜ã¦å›è»¢" "a r" #'yajirushi-rotate
      :desc "æ–‡å­—ã®ç¨®é¡ã«å¿œã˜ã¦ã®ã°ã™" "a x" #'yajirushi-expand
      :desc "æ–‡å­—ã®ç¨®é¡ã«å¿œã˜ã¦æ”¹è¡Œ" "a o" #'yajirushi-new-line)))
\end{verbatim}
\section{ivy}
\label{sec:org3f25cba}
\begin{verbatim}
(use-package ivy-posframe
      :config
    (ivy-posframe-mode 1))
(setq ivy-posframe-parameters
      '((left-fringe . 10)
        (right-fringe . 10)))
\end{verbatim}
\section{beacon}
\label{sec:org350a73a}
\begin{verbatim}
(use-package beacon
  :custom
     (beacon-color "white")
    :config
    (beacon-mode 1)
    )
\end{verbatim}
\section{easy-draw}
\label{sec:orgf6dc90b}
\begin{verbatim}
(with-eval-after-load 'org
  (require 'edraw-org)
  (edraw-org-setup-default))
\end{verbatim}
\section{workspace}
\label{sec:org8fdbe91}
\begin{verbatim}
(defun open-this-buffer-in-workspece ()
  (interactive)
  (let ((where-i-was (current-buffer)))
    (+workspace/new)
    (switch-to-buffer where-i-was)))

(map! (:leader
       (:desc "to-workspace" "w z"#'open-this-buffer-in-workspece
        :desc "to-workspace" "w d"#'+workspace/delete)))
\end{verbatim}

\section{leave node name to journal}
\label{sec:orgda97097}
\begin{verbatim}

(defun extract-link-name (link-content)
  (let ((brace link-content))
    (string-match "\\]\\[\\(.*\\)\\]\\]" brace)
    (match-string 1 brace)))

;;(extract-link-name "[[hazure][asdf]]")
(defun get-exsting-link-name ()
  (save-excursion
    (goto-char (point-min))
    (let ((rect-bracketed '()))
      (while (re-search-forward "^\\[" (point-max) t)
        (add-to-list 'rect-bracketed
                     (extract-link-name (thing-at-point 'line t))))
      rect-bracketed)))

(defun linkp (name)
  (if (member name (get-exsting-link-name))
      t
    nil))

(defun get-today-file ()
  ;;get the file name of current date
  (let ((file-name (org-journal--get-entry-path))
        year month date)
    (string-match "[0-9]+" file-name)
    (setq file-name (match-string 0 file-name))
    (setq year (substring file-name 0 4))
    (setq month (substring file-name 4 6))
    (setq date (substring file-name 6 8))
    (format "%s-%s-%s.org" year month date)))

(unless (file-exists-p (format "%s/%s" org-roam-dailies-directory (get-today-file)))
  (org-roam-dailies-capture-today :KEYS "d") (save-buffer))

(defun visited-nodep (buffer)
  "This argument is just for the org journal of today.
TODO This can be generic.
if nil, just put the tag bottom of the org file
else, just put the link to the * visited node"
  (set-buffer buffer)
  (save-excursion
    (let ((nodes '()))
      (goto-char (point-min))
      (while (re-search-forward "^*" (point-max) t)
        (add-to-list 'nodes (replace-regexp-in-string "\n" "" (thing-at-point 'line t))))
      (if (member "* visited" nodes)
          t
        nil)
      )))


(defun get-node-name (str)
  (string-match "-.*" str)
  (print (substring (match-string 0 str) 1 (length (match-string 0 str))))
  )

(defun write-to (buffer)
  (with-current-buffer
      (let ((new-node (buffer-name)))
        (set-buffer buffer)
        (goto-char (point-max))
        ;;This can be more short, joining the unless into one statement.
        ;;But this is easy to read and write.
        (unless (visited-nodep buffer)
          (save-excursion
            (goto-char (point-max))
            (insert "* visited")))

        (unless (file-exists-p (format "%s/%s" org-roam-dailies-directory (get-today-file)))
          (print "no-today fie"))

        (unless (linkp (get-node-name new-node))
          (save-excursion
            (re-search-forward "* visited" (point-max) t)
            (insert (format "\n[[%s][%s]]\n" (concat org-roam-directory "/" new-node) (get-node-name new-node)))))
        (print (current-buffer)))))

(add-hook 'org-roam-capture-new-node-hook (lambda () (write-to (get-today-file))))
(add-hook 'org-roam-find-file-hook (lambda () (write-to (get-today-file))))

\end{verbatim}

\section{others}
\label{sec:orgafd5b1a}
\begin{verbatim}

(use-package ob)
(use-package dashboard
  :ensure t
  :config
  (dashboard-setup-startup-hook))

(setq dashboard-startup-banner "~/graph/transparent.png")
(add-to-list 'custom-theme-load-path "./.doom.d/themes/yamamotoryuuji-theme.el")
(setq cutom-theme-directory "~/.doom.d/themes")
\end{verbatim}

\subsection{competitive}
\label{sec:orgfd00296}
(oj-test)ãŒå‹•ã‹ã¬ã®ã§ã€ã“ã‚Œã‚’è¿½åŠ 
\begin{verbatim}
(defun pyt-test ()
  (interactive)
(oj--exec-script "oj t -c \"python3 main.py\""))
(defun pyt-submit()
  (interactive)
(oj--exec-script "oj submit main.py"))

(map! (:leader
      (:desc "delete-content-of-double-quote" "o j p s" #'pyt-submit
       :desc "delete-content-of-double-quote" "o j p t" #'pyt-test)))
\end{verbatim}
\section{cursor move}
\label{sec:orgdf47412}
\subsection{``'' ã®ä¸­èº«ã‚’æ¶ˆã—ã¦ãã‚Œã‚‹ã‚„ã¤}
\label{sec:org99598d3}
ã“ã®è¾ºã¯ã‚‚ã†ã¡ã‚‡ã„ã†ã¾ãã§ããã†
\begin{verbatim}
(defun go-and-delete-in-double-quote ()
  (interactive)
  (re-search-forward "\"" (line-end-position) t)
  (kill-region (mark) (1- (point)))
  )
(map! :leader
      :desc "delete-content-of-double-quote"
      "d l w" #'go-and-delete-in-double-quote)
\end{verbatim}
\subsection{) ã¾ã§è¡Œã£ã¦ãã‚Œã‚‹ã‚„ã¤}
\label{sec:org8a65fe1}
\begin{verbatim}
(defun goto-end-of-parenthesis ()
  (interactive)
  (set-mark (point))
  (re-search-forward ")" (line-end-position) t)
  (kill-region (mark) (1- (point))))
(map! :leader
      :desc "delete-content-of-double-quote"
      "d l )" #'goto-end-of-parenthesis)
\end{verbatim}
\section{others}
\label{sec:orgac36703}
\begin{verbatim}
(add-hook 'org-mode-hook #'org-inline-anim-mode)
(defun inline-img-wrap ()
  (interactive)
  (org-inline-anim-animate 4))

(map! :leader
      :desc "added the prefix"
      "a n" #'inline-img-wrap)

\end{verbatim}
\section{shell}
\label{sec:org1929c39}
\begin{verbatim}
;; load environment value
(load-file (expand-file-name "~/.emacs.d/shellenv.el"))
(dolist (path (reverse (split-string (getenv "PATH") ":")))
  (add-to-list 'exec-path path))

;; set eshell aliases
(setq eshell-command-aliases-list
      (append
       (list
        (list "mknd" "bash ~/tools/gd_sousa/mknd.bash")
        (list "adnd" "bash ~/tools/gd_sousa/add_node_to_scene.bash"))
       eshell-command-aliases-list))
\end{verbatim}
\end{document}
